You are Code running headless in CI to prepare a new release.

Inputs
- Version: v0.2.71
- Date (UTC): 2025-09-06
- Previous tag: v0.2.70
- Commit range: v0.2.70..HEAD
- Working directory: repo root (CHANGELOG.md lives at top-level)

Primary Tasks
1) Update CHANGELOG.md with a new entry for this version using the EXACT house style below.
2) Generate GitHub release notes at release-notes/RELEASE_NOTES.md (concise, user‑facing), derived from the same changes.

CHANGELOG.md House Style (strict)
- File header stays as-is ("Changelog"). Do not rewrite older sections.
- Insert the new section at the top (above previous versions), with this header format exactly:
  ## [0.2.71] - 2025-09-06
- Include 2–5 bullets (no more, no fewer), each a single line, focusing on user-visible features, fixes, UX, performance, or stability.
- Keep bullets concise and scannable; avoid long prose. Use present tense.
- When helpful, start bullets with a short scope label like "TUI:", "CLI:", or "Core:".
- At the end of each bullet, include abbreviated commit SHA(s) in parentheses, using 7–8 hex chars, comma‑separated when multiple, like: (abc1234, def5678).
- Map changes from the git commit log in v0.2.70..HEAD; ignore pure chores/merges unless user‑visible.
- Do NOT add links, tables, code blocks, or subheadings. Do NOT include PR author attributions in the changelog.
- Do NOT add any extra headers inside the changelog entry; only bullets under the version header.
- Idempotent: if a section for 0.2.71 already exists, replace only that section’s body with the newly generated bullets and keep the header intact.

Release Notes (release-notes/RELEASE_NOTES.md)
- Write exactly these sections in order; include the optional Thanks section only when applicable:
  1) Title: ## @just-every/code v0.2.71
  2) One brief intro sentence (1–2 lines max).
  3) Section header: ### Changes
     - The same 2–5 bullets as in the changelog (you may omit SHAs).
  4) Section header: ### Install
     Code block with exactly:
     npm install -g @just-every/code@latest
     code
  5) Optional section header: ### Thanks
     - Include ONE line like: "Thanks to @alice and @bob for contributions!"
     - Only include if at least one merged PR in v0.2.70..HEAD is authored by an external contributor.
     - External contributors are any GitHub users other than: @zemaj, @andrej-griniuk, and NOT upstream contributors.
     - Treat a username as upstream if it matches the regex /-oai$/i, or clearly belongs to the upstream org (e.g., OpenAI maintainers). Exclude such users from Thanks.
     - Derive usernames from merge commits, Co-authored-by trailers, or PR references in commit messages. Deduplicate and prefer "@username" form.
- Keep notes concise; no walls of text. Do not add any other sections beyond the optional Thanks.
- Optional final line (only if a previous tag exists):
  Compare: https://github.com/just-every/code/compare/v0.2.70...v0.2.71

Rules
- Use the provided git log as source of truth; summarize responsibly.
- Explore codebase directly if commit messages are unclear or need additional context.
- Keep formatting minimal (headers + list bullets). No emojis ever! Basic markdown only.
- Never reorder older versions. Only touch the section for v0.2.71.
- After writing files, stage and commit with message: docs(changelog): update for v0.2.71 [skip ci]

Context (git log excerpt follows):
# Commit log (v0.2.70..HEAD)
* 2d20341f chore(release): 0.2.71 [skip ci] (GitHub Action)
* acaba1d6 ci(issue-triage): prime Rust toolchain and cache codex-rs/target so agent builds via ./build-fast.sh are incremental (James Peter)
* ac994e87 fix(tui/onboarding): apply themed background to auth picker surface (James Peter)
* 3e4a648f fix(ci/upstream-merge): avoid PR 422 by validating head branch and using owner:branch; add Rust cache + toolchain for incremental builds like ./build-fast.sh (James Peter)
* c4e586cf style(login/success): fix background + theme variables (James Peter)
* d43eb23e fix(login): remove /oauth2/token fallback; adopt upstream-visible request shape (James Peter)
* 93f6b4ac docs(changelog): update for v0.2.70 [skip ci] (GitHub Action)
